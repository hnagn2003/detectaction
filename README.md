# ðŸš€Â Â Installation
```bash
# clone project
git clone https://github.com/hnagn2003/detectaction
cd detectaction
```
## download example data
Download [here](https://drive.google.com/drive/folders/1L17MLCVUfiJcl-xfXtS3i3arPmwVv-zV)

Then put it to data/kinetics400_tiny
## create conda environment
```bash
conda create -n myenv python=3.9
conda activate myenv
conda install pytorch torchvision -c pytorch
pip install -U openmim
mim install mmengine
mim install mmcv
mim install mmdet  # optional
mim install mmpose  # optional
git clone https://github.com/open-mmlab/mmaction2.git
cd mmaction2
pip install -v -e .
cd ..

# install requirements
pip install -r requirements.txt
```

## Project Structure

The directory structure of new project looks like this:

```
â”‚
â”œâ”€â”€ configs                   <- Hydra configs
â”‚   â”œâ”€â”€ callbacks                <- Callbacks configs
â”‚   â”œâ”€â”€ data                     <- Data configs
â”‚       â”œâ”€â”€ recog.yaml
â”‚   â”œâ”€â”€ debug                    <- Debugging configs
â”‚   â”œâ”€â”€ experiment               <- Experiment configs
â”‚   â”œâ”€â”€ extras                   <- Extra utilities configs
â”‚   â”œâ”€â”€ hparams_search           <- Hyperparameter search configs
â”‚   â”œâ”€â”€ hydra                    <- Hydra configs
â”‚   â”œâ”€â”€ local                    <- Local configs
â”‚   â”œâ”€â”€ logger                   <- Logger configs
â”‚   â”œâ”€â”€ model                    <- Model configs
â”‚       â”œâ”€â”€ recog.yaml
â”‚   â”œâ”€â”€ paths                    <- Project paths configs
â”‚   â”œâ”€â”€ trainer                  <- Trainer configs
â”‚   â”‚
â”‚   â”œâ”€â”€ eval.yaml             <- Main config for evaluation
â”‚   â””â”€â”€ train.yaml            <- Main config for training
â”‚
â”œâ”€â”€ data                   <- Project data
â”‚   â”œâ”€â”€ kinetics400_tiny
â”‚
â”œâ”€â”€ logs                   <- Logs generated by hydra and lightning loggers
â”‚
â”œâ”€â”€ notebooks              <- Jupyter notebooks. Naming convention is a number (for ordering),
â”‚                             the creator's initials, and a short `-` delimited description,
â”‚                             e.g. `1.0-jqp-initial-data-exploration.ipynb`.
â”‚
â”œâ”€â”€ scripts                <- Shell scripts
â”‚
â”œâ”€â”€ src                    <- Source code
â”‚   â”œâ”€â”€ data                     <- Data scripts
â”‚       â”œâ”€â”€ recog_datamodule.py 
â”‚   â”œâ”€â”€ models                   <- Model scripts
â”‚       â”œâ”€â”€ components
â”‚           â”œâ”€â”€recognizerCf.py
â”‚       â”œâ”€â”€ recog_module.py
â”‚   â”œâ”€â”€ utils                    <- Utility scripts
â”‚   â”‚
â”‚   â”œâ”€â”€ eval.py                  <- Run evaluation
â”‚   â””â”€â”€ train.py                 <- Run training
â”‚
â”œâ”€â”€ tests                  <- Tests of any kind
â”‚
â”œâ”€â”€ .env.example              <- Example of file for storing private environment variables
â”œâ”€â”€ .gitignore                <- List of files ignored by git
â”œâ”€â”€ .pre-commit-config.yaml   <- Configuration of pre-commit hooks for code formatting
â”œâ”€â”€ .project-root             <- File for inferring the position of project root directory
â”œâ”€â”€ environment.yaml          <- File for installing conda environment
â”œâ”€â”€ Makefile                  <- Makefile with commands like `make train` or `make test`
â”œâ”€â”€ pyproject.toml            <- Configuration options for testing and linting
â”œâ”€â”€ requirements.txt          <- File for installing python dependencies
â”œâ”€â”€ setup.py                  <- File for installing project as a package
â””â”€â”€ README.md
```

<br>

## Config structure
## Training
```bash

#train with config
python -m src.train trainer=gpu data.num_workers=10 data.batch_size=2 data.pin_memory=true trainer.devices=1  trainer.max_epochs=10

# train with data config
python -m src.train trainer=gpu data.num_workers=10 data.batch_size=2 data.pin_memory=true trainer.devices=1 data.ann_file_train="kinetics_tiny_train_video.txt" data.data_root_train="data/kinetics400_tiny/" data.ann_file_val="kinetics_tiny_val_video.txt" data.data_root_val="data/kinetics400_tiny/"

```


